{
  "service": {
    "service": "vadali-media-backend",
    "serviceObject": {
      "name": "vadali-media-backend"
    },
    "provider": {
      "name": "aws",
      "runtime": "nodejs20.x",
      "region": "us-east-1",
      "iamRoleStatements": [
        {
          "Effect": "Allow",
          "Action": [
            "dynamodb:GetItem",
            "dynamodb:PutItem",
            "dynamodb:UpdateItem",
            "dynamodb:DeleteItem",
            "dynamodb:Scan",
            "dynamodb:Query"
          ],
          "Resource": [
            "arn:aws:dynamodb:us-east-1:*:table/vadali-media-articles-dev",
            "arn:aws:dynamodb:us-east-1:*:table/vadali-media-articles-dev/index/*",
            "arn:aws:dynamodb:us-east-1:*:table/vadali-media-users-dev",
            "arn:aws:dynamodb:us-east-1:*:table/vadali-media-users-dev/index/*",
            "arn:aws:dynamodb:us-east-1:*:table/vadali-media-categories-dev",
            "arn:aws:dynamodb:us-east-1:*:table/vadali-media-categories-dev/index/*"
          ]
        },
        {
          "Effect": "Allow",
          "Action": [
            "s3:PutObject",
            "s3:PutObjectAcl",
            "s3:GetObject",
            "s3:DeleteObject"
          ],
          "Resource": "arn:aws:s3:::vadaliarticles/*"
        },
        {
          "Effect": "Allow",
          "Action": [
            "s3:ListBucket"
          ],
          "Resource": "arn:aws:s3:::vadaliarticles"
        }
      ],
      "httpApi": {
        "cors": {
          "allowedOrigins": [
            "http://localhost:3000",
            "https://vadali.netlify.app",
            "https://vadalimedia.lk",
            "https://www.vadalimedia.lk"
          ],
          "allowedHeaders": [
            "Content-Type",
            "Authorization",
            "X-Amz-Date",
            "X-Api-Key",
            "X-Amz-Security-Token",
            "X-Amz-User-Agent"
          ],
          "allowedMethods": [
            "OPTIONS",
            "GET",
            "POST",
            "PUT",
            "DELETE",
            "PATCH"
          ],
          "allowCredentials": true
        }
      },
      "stage": "dev",
      "environment": {
        "ARTICLES_TABLE": "vadali-media-articles-dev",
        "USERS_TABLE": "vadali-media-users-dev",
        "CATEGORIES_TABLE": "vadali-media-categories-dev",
        "S3_BUCKET_NAME": "vadaliarticles",
        "ALLOWED_ORIGIN": "http://localhost:3000",
        "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
        "JWT_EXPIRES_IN": "10h",
        "JWT_SECRET": "change-me-in-prod"
      },
      "versionFunctions": true,
      "compiledCloudFormationTemplate": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Description": "The AWS CloudFormation template for this Serverless application",
        "Resources": {
          "ServerlessDeploymentBucket": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
              "BucketEncryption": {
                "ServerSideEncryptionConfiguration": [
                  {
                    "ServerSideEncryptionByDefault": {
                      "SSEAlgorithm": "AES256"
                    }
                  }
                ]
              }
            }
          },
          "ServerlessDeploymentBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
              "Bucket": {
                "Ref": "ServerlessDeploymentBucket"
              },
              "PolicyDocument": {
                "Statement": [
                  {
                    "Action": "s3:*",
                    "Effect": "Deny",
                    "Principal": "*",
                    "Resource": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            },
                            "/*"
                          ]
                        ]
                      },
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            }
                          ]
                        ]
                      }
                    ],
                    "Condition": {
                      "Bool": {
                        "aws:SecureTransport": false
                      }
                    }
                  }
                ]
              }
            }
          },
          "LoginLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-login"
            }
          },
          "RegisterLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-register"
            }
          },
          "RefreshTokenLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-refreshToken"
            }
          },
          "LogoutLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-logout"
            }
          },
          "GetUsersLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getUsers"
            }
          },
          "GetUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getUser"
            }
          },
          "CreateUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-createUser"
            }
          },
          "UpdateUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-updateUser"
            }
          },
          "DeleteUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-deleteUser"
            }
          },
          "GetArticlesLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getArticles"
            }
          },
          "GetArticleByIdLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getArticleById"
            }
          },
          "GetArticleBySlugLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getArticleBySlug"
            }
          },
          "GetArticleSharePreviewLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getArticleSharePreview"
            }
          },
          "CreateArticleLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-createArticle"
            }
          },
          "UpdateArticleLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-updateArticle"
            }
          },
          "DeleteArticleLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-deleteArticle"
            }
          },
          "UpdateArticleStatusLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-updateArticleStatus"
            }
          },
          "UpdateFeaturedStatusLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-updateFeaturedStatus"
            }
          },
          "GetCategoriesLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getCategories"
            }
          },
          "CreateCategoryLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-createCategory"
            }
          },
          "UpdateCategoryLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-updateCategory"
            }
          },
          "DeleteCategoryLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-deleteCategory"
            }
          },
          "GetPendingCommentsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getPendingComments"
            }
          },
          "PostCommentLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-postComment"
            }
          },
          "UpdateCommentStatusLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-updateCommentStatus"
            }
          },
          "GetNotificationsForUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getNotificationsForUser"
            }
          },
          "GetAllTagsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getAllTags"
            }
          },
          "GetSubscribersLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getSubscribers"
            }
          },
          "SubscribeLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-subscribe"
            }
          },
          "ContactLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-contact"
            }
          },
          "GetUploadUrlLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/vadali-media-backend-dev-getUploadUrl"
            }
          },
          "IamRoleLambdaExecution": {
            "Type": "AWS::IAM::Role",
            "Properties": {
              "AssumeRolePolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Principal": {
                      "Service": [
                        "lambda.amazonaws.com"
                      ]
                    },
                    "Action": [
                      "sts:AssumeRole"
                    ]
                  }
                ]
              },
              "Policies": [
                {
                  "PolicyName": {
                    "Fn::Join": [
                      "-",
                      [
                        "vadali-media-backend",
                        "dev",
                        "lambda"
                      ]
                    ]
                  },
                  "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                      {
                        "Effect": "Allow",
                        "Action": [
                          "logs:CreateLogStream",
                          "logs:CreateLogGroup",
                          "logs:TagResource"
                        ],
                        "Resource": [
                          {
                            "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/vadali-media-backend-dev*:*"
                          }
                        ]
                      },
                      {
                        "Effect": "Allow",
                        "Action": [
                          "logs:PutLogEvents"
                        ],
                        "Resource": [
                          {
                            "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/vadali-media-backend-dev*:*:*"
                          }
                        ]
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iamRoleStatements\"][0]"
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iamRoleStatements\"][1]"
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iamRoleStatements\"][2]"
                      }
                    ]
                  }
                }
              ],
              "Path": "/",
              "RoleName": {
                "Fn::Join": [
                  "-",
                  [
                    "vadali-media-backend",
                    "dev",
                    {
                      "Ref": "AWS::Region"
                    },
                    "lambdaRole"
                  ]
                ]
              }
            }
          },
          "LoginLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.login",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-login",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "LoginLogGroup"
            ]
          },
          "RegisterLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.register",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-register",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "RegisterLogGroup"
            ]
          },
          "RefreshTokenLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.refreshToken",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-refreshToken",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "RefreshTokenLogGroup"
            ]
          },
          "LogoutLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.logout",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-logout",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "LogoutLogGroup"
            ]
          },
          "GetUsersLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getUsers",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getUsers",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetUsersLogGroup"
            ]
          },
          "GetUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getUser",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetUserLogGroup"
            ]
          },
          "CreateUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.createUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-createUser",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreateUserLogGroup"
            ]
          },
          "UpdateUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.updateUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-updateUser",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateUserLogGroup"
            ]
          },
          "DeleteUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.deleteUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-deleteUser",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "DeleteUserLogGroup"
            ]
          },
          "GetArticlesLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getArticles",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getArticles",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetArticlesLogGroup"
            ]
          },
          "GetArticleByIdLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getArticleById",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getArticleById",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetArticleByIdLogGroup"
            ]
          },
          "GetArticleBySlugLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getArticleBySlug",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getArticleBySlug",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetArticleBySlugLogGroup"
            ]
          },
          "GetArticleSharePreviewLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getArticleSharePreview",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getArticleSharePreview",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetArticleSharePreviewLogGroup"
            ]
          },
          "CreateArticleLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.createArticle",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-createArticle",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreateArticleLogGroup"
            ]
          },
          "UpdateArticleLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.updateArticle",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-updateArticle",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateArticleLogGroup"
            ]
          },
          "DeleteArticleLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.deleteArticle",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-deleteArticle",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "DeleteArticleLogGroup"
            ]
          },
          "UpdateArticleStatusLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.updateArticleStatus",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-updateArticleStatus",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateArticleStatusLogGroup"
            ]
          },
          "UpdateFeaturedStatusLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.updateFeaturedStatus",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-updateFeaturedStatus",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateFeaturedStatusLogGroup"
            ]
          },
          "GetCategoriesLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getCategories",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getCategories",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetCategoriesLogGroup"
            ]
          },
          "CreateCategoryLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.createCategory",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-createCategory",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreateCategoryLogGroup"
            ]
          },
          "UpdateCategoryLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.updateCategory",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-updateCategory",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateCategoryLogGroup"
            ]
          },
          "DeleteCategoryLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.deleteCategory",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-deleteCategory",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "DeleteCategoryLogGroup"
            ]
          },
          "GetPendingCommentsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getPendingComments",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getPendingComments",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetPendingCommentsLogGroup"
            ]
          },
          "PostCommentLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.postComment",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-postComment",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "PostCommentLogGroup"
            ]
          },
          "UpdateCommentStatusLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.updateCommentStatus",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-updateCommentStatus",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateCommentStatusLogGroup"
            ]
          },
          "GetNotificationsForUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getNotificationsForUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getNotificationsForUser",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetNotificationsForUserLogGroup"
            ]
          },
          "GetAllTagsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getAllTags",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getAllTags",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetAllTagsLogGroup"
            ]
          },
          "GetSubscribersLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getSubscribers",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getSubscribers",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetSubscribersLogGroup"
            ]
          },
          "SubscribeLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.subscribe",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-subscribe",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "SubscribeLogGroup"
            ]
          },
          "ContactLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.contact",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-contact",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "ContactLogGroup"
            ]
          },
          "GetUploadUrlLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z/vadali-media-backend.zip"
              },
              "Handler": "src/handlers.getUploadUrl",
              "Runtime": "nodejs20.x",
              "FunctionName": "vadali-media-backend-dev-getUploadUrl",
              "MemorySize": 1024,
              "Timeout": 6,
              "Environment": {
                "Variables": {
                  "ARTICLES_TABLE": "vadali-media-articles-dev",
                  "USERS_TABLE": "vadali-media-users-dev",
                  "CATEGORIES_TABLE": "vadali-media-categories-dev",
                  "S3_BUCKET_NAME": "vadaliarticles",
                  "ALLOWED_ORIGIN": "http://localhost:3000",
                  "SHARE_SITE_ORIGIN": "https://vadalimedia.lk",
                  "JWT_EXPIRES_IN": "10h",
                  "JWT_SECRET": "change-me-in-prod"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetUploadUrlLogGroup"
            ]
          },
          "LoginLambdaVersionf7ObepCTGzhfYyqOUVWS51xxij4Zo1hz9AS1v85GA": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "LoginLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "RegisterLambdaVersionWrhnGpgiXbuMVZgfHNYndfuXraCUj1vGGeXxyhRdUn8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "RegisterLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "RefreshTokenLambdaVersionXfMP43d4ah2xziTd4jJog6HQbWbxsYf8pbIVKMtXNU": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "RefreshTokenLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "LogoutLambdaVersionXG4nDgKyBR2XM1wjKixawhkpTuXig3wEnvJREBiI": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "LogoutLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetUsersLambdaVersionx9Sn3lFBWJX2W91tMGo3VJE6T4GoCYZCRwdx7w7Dd8c": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetUsersLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetUserLambdaVersionyqRdlEabbRdUrUB4R088g7L1DTDLTZ1b9kedReVkqE": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetUserLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "CreateUserLambdaVersionpNkLLdQOrDJbwhSW0i1WDAKxO4j6t0kj55EKhJjyIqc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateUserLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "UpdateUserLambdaVersionSfdJ1MNnDTvKJJ7ZlrDNyVB8HLDzM6Okh2oUr4YERLI": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateUserLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "DeleteUserLambdaVersionn17raCEEPhuJkGw8rBnXFXRcyuVwrqJoKh6lQzBI": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "DeleteUserLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetArticlesLambdaVersion4243csn41U8pSlyYawT2Rd7FAXDbcE00rz5RjkopQ": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetArticlesLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetArticleByIdLambdaVersionn1QmCXXqHc9M6GOdIFTDogyNp9xvTlxnEpVX7ltc4I": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetArticleByIdLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetArticleBySlugLambdaVersionMmUPrdUiHieyqpY2dmPB3OztIMlsCYkCycEsFtisw": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetArticleBySlugLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetArticleSharePreviewLambdaVersionC904TUBBMY1l4QhTOKzwIrqTyobI8tA1alleuZRD7o": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetArticleSharePreviewLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "CreateArticleLambdaVersion5CeqJn3uHlnfHvBSJzDQ34yXbJypL6W5N5aY8wDIHE": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateArticleLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "UpdateArticleLambdaVersionTssqtrcJ65zI6j06FYHwU5KwNmld6lMfjbWgnWW9Oo": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateArticleLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "DeleteArticleLambdaVersionj2aDpzdOKu6V1UqAdRkDupU6shsYkKlrKntT70b5M": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "DeleteArticleLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "UpdateArticleStatusLambdaVersionqE9d3wEo60IVB0VXob8A8XEoTSCDFBzOltjYX5jBQ": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateArticleStatusLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "UpdateFeaturedStatusLambdaVersionC31vWVGBHj35qbFMPwDXpKG2Y7LUmQTz9krxS7w": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateFeaturedStatusLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetCategoriesLambdaVersionnEmKCBgCrhcVOtAtmbxGyokbHwm44hbgkQDMvX7s8Qo": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetCategoriesLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "CreateCategoryLambdaVersionygWdpSKcLOHHiEVbL2zdWH9GbDr4dZPlhbSDfPkUc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateCategoryLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "UpdateCategoryLambdaVersionhcmbonOQFyKuFLsVNJSbdHKRqa4yZ7k11UrxGaunFtY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateCategoryLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "DeleteCategoryLambdaVersioni81RVnsbzpD6Dbi2GYaPVCo1GUItxatbdgLnm7Cucc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "DeleteCategoryLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetPendingCommentsLambdaVersionTFbri6NA9aZkvVvOOoPPowFE8GLrZIuB99rZJ58": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetPendingCommentsLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "PostCommentLambdaVersionf3iYXLUWrJ6b6wQRA8C8IBh9uksWgDeBtcvWG21EGA": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "PostCommentLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "UpdateCommentStatusLambdaVersionH9dMJrwjwJ3FWV0vub5XgF4IFFxfmzPT8RWjRSuKM": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateCommentStatusLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetNotificationsForUserLambdaVersionCTaffm3guAi3ApLaiQ1kj9mAbMcfLFYaydLQtz4g": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetNotificationsForUserLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetAllTagsLambdaVersionyVjfCxcDkSQB1YWRF0pNGfkJWGPUclngWFTLQG5s": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetAllTagsLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetSubscribersLambdaVersionOy7oRFRKak62AIxbSJMZ90wSi5R3naP8ZK7yZzXE": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetSubscribersLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "SubscribeLambdaVersionNJ55KA5WdcKRB3KwyL9ng7OkGfLZbWTBRMv9FDiL3EA": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "SubscribeLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "ContactLambdaVersionXrSBh4E1tr8R0a9VkhWfFcAg9URPHWGFPP8dESDj7s": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "ContactLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "GetUploadUrlLambdaVersionvJKEA5IMgsFYs1Zpkis4uhbZIMeSInYwqaAKikUeQ": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetUploadUrlLambdaFunction"
              },
              "CodeSha256": "BfMcVSmxHPCfvf6W1mQUfh4R1OcdWvy/+kIQLoXp+A4="
            }
          },
          "HttpApi": {
            "Type": "AWS::ApiGatewayV2::Api",
            "Properties": {
              "Name": "dev-vadali-media-backend",
              "ProtocolType": "HTTP",
              "CorsConfiguration": {
                "AllowCredentials": true,
                "AllowHeaders": [
                  "Content-Type",
                  "Authorization",
                  "X-Amz-Date",
                  "X-Api-Key",
                  "X-Amz-Security-Token",
                  "X-Amz-User-Agent"
                ],
                "AllowMethods": [
                  "OPTIONS",
                  "GET",
                  "POST",
                  "PUT",
                  "DELETE",
                  "PATCH"
                ],
                "AllowOrigins": [
                  "http://localhost:3000",
                  "https://vadali.netlify.app",
                  "https://vadalimedia.lk",
                  "https://www.vadalimedia.lk"
                ]
              }
            }
          },
          "HttpApiStage": {
            "Type": "AWS::ApiGatewayV2::Stage",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "StageName": "$default",
              "AutoDeploy": true,
              "DefaultRouteSettings": {
                "DetailedMetricsEnabled": false
              }
            }
          },
          "LoginLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "LoginLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationLogin": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"LoginLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthLogin": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/login",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationLogin"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationLogin"
          },
          "RegisterLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "RegisterLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationRegister": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"RegisterLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthRegister": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/register",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationRegister"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationRegister"
          },
          "RefreshTokenLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "RefreshTokenLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationRefreshToken": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"RefreshTokenLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthRefresh": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/refresh",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationRefreshToken"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationRefreshToken"
          },
          "LogoutLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "LogoutLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationLogout": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"LogoutLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthLogout": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/logout",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationLogout"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationLogout"
          },
          "GetUsersLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetUsersLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetUsers": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetUsersLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetUsers": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /users",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetUsers"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetUsers"
          },
          "GetUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetUsersIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /users/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetUser"
          },
          "CreateUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreateUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreateUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostUsers": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /users",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreateUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreateUser"
          },
          "UpdateUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutUsersIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /users/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateUser"
          },
          "DeleteUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "DeleteUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationDeleteUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"DeleteUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteDeleteUsersIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "DELETE /users/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationDeleteUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationDeleteUser"
          },
          "GetArticlesLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetArticlesLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetArticles": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetArticlesLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetArticles": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /articles",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetArticles"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetArticles"
          },
          "GetArticleByIdLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetArticleByIdLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetArticleById": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetArticleByIdLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetArticlesIdIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /articles/id/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetArticleById"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetArticleById"
          },
          "GetArticleBySlugLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetArticleBySlugLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetArticleBySlug": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetArticleBySlugLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetArticlesSlugSlugVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /articles/slug/{slug}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetArticleBySlug"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetArticleBySlug"
          },
          "GetArticleSharePreviewLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetArticleSharePreviewLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetArticleSharePreview": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetArticleSharePreviewLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetShareArticleSlugVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /share/article/{slug}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetArticleSharePreview"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetArticleSharePreview"
          },
          "CreateArticleLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateArticleLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreateArticle": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreateArticleLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostArticles": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /articles",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreateArticle"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreateArticle"
          },
          "UpdateArticleLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateArticleLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateArticle": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateArticleLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutArticlesIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /articles/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateArticle"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateArticle"
          },
          "DeleteArticleLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "DeleteArticleLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationDeleteArticle": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"DeleteArticleLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteDeleteArticlesIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "DELETE /articles/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationDeleteArticle"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationDeleteArticle"
          },
          "UpdateArticleStatusLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateArticleStatusLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateArticleStatus": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateArticleStatusLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutArticlesIdVarStatus": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /articles/{id}/status",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateArticleStatus"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateArticleStatus"
          },
          "UpdateFeaturedStatusLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateFeaturedStatusLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateFeaturedStatus": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateFeaturedStatusLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostArticlesFeatured": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /articles/featured",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateFeaturedStatus"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateFeaturedStatus"
          },
          "GetCategoriesLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetCategoriesLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetCategories": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetCategoriesLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetCategories": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /categories",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetCategories"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetCategories"
          },
          "CreateCategoryLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateCategoryLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreateCategory": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreateCategoryLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostCategories": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /categories",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreateCategory"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreateCategory"
          },
          "UpdateCategoryLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateCategoryLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateCategory": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateCategoryLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutCategoriesIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /categories/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateCategory"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateCategory"
          },
          "DeleteCategoryLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "DeleteCategoryLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationDeleteCategory": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"DeleteCategoryLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteDeleteCategoriesIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "DELETE /categories/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationDeleteCategory"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationDeleteCategory"
          },
          "GetPendingCommentsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetPendingCommentsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetPendingComments": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetPendingCommentsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetCommentsPending": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /comments/pending",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetPendingComments"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetPendingComments"
          },
          "PostCommentLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "PostCommentLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationPostComment": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"PostCommentLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostArticlesIdVarComments": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /articles/{id}/comments",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationPostComment"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationPostComment"
          },
          "UpdateCommentStatusLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateCommentStatusLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateCommentStatus": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateCommentStatusLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutArticlesArticleidVarCommentsCommentidVarStatus": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /articles/{articleId}/comments/{commentId}/status",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateCommentStatus"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateCommentStatus"
          },
          "GetNotificationsForUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetNotificationsForUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetNotificationsForUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetNotificationsForUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetNotificationsUserUseridVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /notifications/user/{userId}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetNotificationsForUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetNotificationsForUser"
          },
          "GetAllTagsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetAllTagsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetAllTags": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetAllTagsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetTags": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /tags",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetAllTags"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetAllTags"
          },
          "GetSubscribersLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetSubscribersLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetSubscribers": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetSubscribersLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetSubscribers": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /subscribers",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetSubscribers"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetSubscribers"
          },
          "SubscribeLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "SubscribeLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationSubscribe": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"SubscribeLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostSubscribe": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /subscribe",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationSubscribe"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationSubscribe"
          },
          "ContactLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "ContactLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationContact": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"ContactLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostContact": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /contact",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationContact"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationContact"
          },
          "GetUploadUrlLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetUploadUrlLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetUploadUrl": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetUploadUrlLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostUploadDashurl": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /upload-url",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetUploadUrl"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetUploadUrl"
          },
          "ArticlesTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "vadali-media-articles-dev",
              "AttributeDefinitions": [
                {
                  "AttributeName": "id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "slug",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "categoryId",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "id",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "slug-index",
                  "KeySchema": [
                    {
                      "AttributeName": "slug",
                      "KeyType": "HASH"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                },
                {
                  "IndexName": "category-index",
                  "KeySchema": [
                    {
                      "AttributeName": "categoryId",
                      "KeyType": "HASH"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "UsersTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "vadali-media-users-dev",
              "AttributeDefinitions": [
                {
                  "AttributeName": "id",
                  "AttributeType": "S"
                },
                {
                  "AttributeName": "email",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "id",
                  "KeyType": "HASH"
                }
              ],
              "GlobalSecondaryIndexes": [
                {
                  "IndexName": "email-index",
                  "KeySchema": [
                    {
                      "AttributeName": "email",
                      "KeyType": "HASH"
                    }
                  ],
                  "Projection": {
                    "ProjectionType": "ALL"
                  }
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          },
          "CategoriesTable": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
              "TableName": "vadali-media-categories-dev",
              "AttributeDefinitions": [
                {
                  "AttributeName": "id",
                  "AttributeType": "S"
                }
              ],
              "KeySchema": [
                {
                  "AttributeName": "id",
                  "KeyType": "HASH"
                }
              ],
              "BillingMode": "PAY_PER_REQUEST"
            }
          }
        },
        "Outputs": {
          "ServerlessDeploymentBucketName": {
            "Value": {
              "Ref": "ServerlessDeploymentBucket"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-ServerlessDeploymentBucketName"
            }
          },
          "LoginLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "LoginLambdaVersionf7ObepCTGzhfYyqOUVWS51xxij4Zo1hz9AS1v85GA"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-LoginLambdaFunctionQualifiedArn"
            }
          },
          "RegisterLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "RegisterLambdaVersionWrhnGpgiXbuMVZgfHNYndfuXraCUj1vGGeXxyhRdUn8"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-RegisterLambdaFunctionQualifiedArn"
            }
          },
          "RefreshTokenLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "RefreshTokenLambdaVersionXfMP43d4ah2xziTd4jJog6HQbWbxsYf8pbIVKMtXNU"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-RefreshTokenLambdaFunctionQualifiedArn"
            }
          },
          "LogoutLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "LogoutLambdaVersionXG4nDgKyBR2XM1wjKixawhkpTuXig3wEnvJREBiI"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-LogoutLambdaFunctionQualifiedArn"
            }
          },
          "GetUsersLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetUsersLambdaVersionx9Sn3lFBWJX2W91tMGo3VJE6T4GoCYZCRwdx7w7Dd8c"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetUsersLambdaFunctionQualifiedArn"
            }
          },
          "GetUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetUserLambdaVersionyqRdlEabbRdUrUB4R088g7L1DTDLTZ1b9kedReVkqE"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetUserLambdaFunctionQualifiedArn"
            }
          },
          "CreateUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateUserLambdaVersionpNkLLdQOrDJbwhSW0i1WDAKxO4j6t0kj55EKhJjyIqc"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-CreateUserLambdaFunctionQualifiedArn"
            }
          },
          "UpdateUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateUserLambdaVersionSfdJ1MNnDTvKJJ7ZlrDNyVB8HLDzM6Okh2oUr4YERLI"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-UpdateUserLambdaFunctionQualifiedArn"
            }
          },
          "DeleteUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "DeleteUserLambdaVersionn17raCEEPhuJkGw8rBnXFXRcyuVwrqJoKh6lQzBI"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-DeleteUserLambdaFunctionQualifiedArn"
            }
          },
          "GetArticlesLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetArticlesLambdaVersion4243csn41U8pSlyYawT2Rd7FAXDbcE00rz5RjkopQ"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetArticlesLambdaFunctionQualifiedArn"
            }
          },
          "GetArticleByIdLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetArticleByIdLambdaVersionn1QmCXXqHc9M6GOdIFTDogyNp9xvTlxnEpVX7ltc4I"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetArticleByIdLambdaFunctionQualifiedArn"
            }
          },
          "GetArticleBySlugLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetArticleBySlugLambdaVersionMmUPrdUiHieyqpY2dmPB3OztIMlsCYkCycEsFtisw"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetArticleBySlugLambdaFunctionQualifiedArn"
            }
          },
          "GetArticleSharePreviewLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetArticleSharePreviewLambdaVersionC904TUBBMY1l4QhTOKzwIrqTyobI8tA1alleuZRD7o"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetArticleSharePreviewLambdaFunctionQualifiedArn"
            }
          },
          "CreateArticleLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateArticleLambdaVersion5CeqJn3uHlnfHvBSJzDQ34yXbJypL6W5N5aY8wDIHE"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-CreateArticleLambdaFunctionQualifiedArn"
            }
          },
          "UpdateArticleLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateArticleLambdaVersionTssqtrcJ65zI6j06FYHwU5KwNmld6lMfjbWgnWW9Oo"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-UpdateArticleLambdaFunctionQualifiedArn"
            }
          },
          "DeleteArticleLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "DeleteArticleLambdaVersionj2aDpzdOKu6V1UqAdRkDupU6shsYkKlrKntT70b5M"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-DeleteArticleLambdaFunctionQualifiedArn"
            }
          },
          "UpdateArticleStatusLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateArticleStatusLambdaVersionqE9d3wEo60IVB0VXob8A8XEoTSCDFBzOltjYX5jBQ"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-UpdateArticleStatusLambdaFunctionQualifiedArn"
            }
          },
          "UpdateFeaturedStatusLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateFeaturedStatusLambdaVersionC31vWVGBHj35qbFMPwDXpKG2Y7LUmQTz9krxS7w"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-UpdateFeaturedStatusLambdaFunctionQualifiedArn"
            }
          },
          "GetCategoriesLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetCategoriesLambdaVersionnEmKCBgCrhcVOtAtmbxGyokbHwm44hbgkQDMvX7s8Qo"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetCategoriesLambdaFunctionQualifiedArn"
            }
          },
          "CreateCategoryLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateCategoryLambdaVersionygWdpSKcLOHHiEVbL2zdWH9GbDr4dZPlhbSDfPkUc"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-CreateCategoryLambdaFunctionQualifiedArn"
            }
          },
          "UpdateCategoryLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateCategoryLambdaVersionhcmbonOQFyKuFLsVNJSbdHKRqa4yZ7k11UrxGaunFtY"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-UpdateCategoryLambdaFunctionQualifiedArn"
            }
          },
          "DeleteCategoryLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "DeleteCategoryLambdaVersioni81RVnsbzpD6Dbi2GYaPVCo1GUItxatbdgLnm7Cucc"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-DeleteCategoryLambdaFunctionQualifiedArn"
            }
          },
          "GetPendingCommentsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetPendingCommentsLambdaVersionTFbri6NA9aZkvVvOOoPPowFE8GLrZIuB99rZJ58"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetPendingCommentsLambdaFunctionQualifiedArn"
            }
          },
          "PostCommentLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "PostCommentLambdaVersionf3iYXLUWrJ6b6wQRA8C8IBh9uksWgDeBtcvWG21EGA"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-PostCommentLambdaFunctionQualifiedArn"
            }
          },
          "UpdateCommentStatusLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateCommentStatusLambdaVersionH9dMJrwjwJ3FWV0vub5XgF4IFFxfmzPT8RWjRSuKM"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-UpdateCommentStatusLambdaFunctionQualifiedArn"
            }
          },
          "GetNotificationsForUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetNotificationsForUserLambdaVersionCTaffm3guAi3ApLaiQ1kj9mAbMcfLFYaydLQtz4g"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetNotificationsForUserLambdaFunctionQualifiedArn"
            }
          },
          "GetAllTagsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetAllTagsLambdaVersionyVjfCxcDkSQB1YWRF0pNGfkJWGPUclngWFTLQG5s"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetAllTagsLambdaFunctionQualifiedArn"
            }
          },
          "GetSubscribersLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetSubscribersLambdaVersionOy7oRFRKak62AIxbSJMZ90wSi5R3naP8ZK7yZzXE"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetSubscribersLambdaFunctionQualifiedArn"
            }
          },
          "SubscribeLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "SubscribeLambdaVersionNJ55KA5WdcKRB3KwyL9ng7OkGfLZbWTBRMv9FDiL3EA"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-SubscribeLambdaFunctionQualifiedArn"
            }
          },
          "ContactLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "ContactLambdaVersionXrSBh4E1tr8R0a9VkhWfFcAg9URPHWGFPP8dESDj7s"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-ContactLambdaFunctionQualifiedArn"
            }
          },
          "GetUploadUrlLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetUploadUrlLambdaVersionvJKEA5IMgsFYs1Zpkis4uhbZIMeSInYwqaAKikUeQ"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-GetUploadUrlLambdaFunctionQualifiedArn"
            }
          },
          "HttpApiId": {
            "Description": "Id of the HTTP API",
            "Value": {
              "Ref": "HttpApi"
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-HttpApiId"
            }
          },
          "HttpApiUrl": {
            "Description": "URL of the HTTP API",
            "Value": {
              "Fn::Join": [
                "",
                [
                  "https://",
                  {
                    "Ref": "HttpApi"
                  },
                  ".execute-api.",
                  {
                    "Ref": "AWS::Region"
                  },
                  ".",
                  {
                    "Ref": "AWS::URLSuffix"
                  }
                ]
              ]
            },
            "Export": {
              "Name": "sls-vadali-media-backend-dev-HttpApiUrl"
            }
          }
        }
      },
      "coreCloudFormationTemplate": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Description": "The AWS CloudFormation template for this Serverless application",
        "Resources": {
          "ServerlessDeploymentBucket": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
              "BucketEncryption": {
                "ServerSideEncryptionConfiguration": [
                  {
                    "ServerSideEncryptionByDefault": {
                      "SSEAlgorithm": "AES256"
                    }
                  }
                ]
              }
            }
          },
          "ServerlessDeploymentBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
              "Bucket": {
                "Ref": "ServerlessDeploymentBucket"
              },
              "PolicyDocument": {
                "Statement": [
                  {
                    "Action": "s3:*",
                    "Effect": "Deny",
                    "Principal": "*",
                    "Resource": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            },
                            "/*"
                          ]
                        ]
                      },
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            }
                          ]
                        ]
                      }
                    ],
                    "Condition": {
                      "Bool": {
                        "aws:SecureTransport": false
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "Outputs": {
          "ServerlessDeploymentBucketName": {
            "Value": {
              "Ref": "ServerlessDeploymentBucket"
            }
          }
        }
      },
      "vpc": {}
    },
    "custom": {
      "serverless-offline": {
        "httpPort": 3001,
        "lambdaPort": 3002
      }
    },
    "plugins": [
      "serverless-esbuild",
      "serverless-offline"
    ],
    "pluginsData": {},
    "functions": {
      "login": {
        "handler": "src/handlers.login",
        "events": [
          {
            "httpApi": "POST /auth/login",
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/login"
          }
        ],
        "name": "vadali-media-backend-dev-login",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "LoginLambdaVersionf7ObepCTGzhfYyqOUVWS51xxij4Zo1hz9AS1v85GA"
      },
      "register": {
        "handler": "src/handlers.register",
        "events": [
          {
            "httpApi": "POST /auth/register",
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/register"
          }
        ],
        "name": "vadali-media-backend-dev-register",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "RegisterLambdaVersionWrhnGpgiXbuMVZgfHNYndfuXraCUj1vGGeXxyhRdUn8"
      },
      "refreshToken": {
        "handler": "src/handlers.refreshToken",
        "events": [
          {
            "httpApi": "POST /auth/refresh",
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/refresh"
          }
        ],
        "name": "vadali-media-backend-dev-refreshToken",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "RefreshTokenLambdaVersionXfMP43d4ah2xziTd4jJog6HQbWbxsYf8pbIVKMtXNU"
      },
      "logout": {
        "handler": "src/handlers.logout",
        "events": [
          {
            "httpApi": "POST /auth/logout",
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/logout"
          }
        ],
        "name": "vadali-media-backend-dev-logout",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "LogoutLambdaVersionXG4nDgKyBR2XM1wjKixawhkpTuXig3wEnvJREBiI"
      },
      "getUsers": {
        "handler": "src/handlers.getUsers",
        "events": [
          {
            "httpApi": "GET /users",
            "resolvedMethod": "GET",
            "resolvedPath": "/users"
          }
        ],
        "name": "vadali-media-backend-dev-getUsers",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetUsersLambdaVersionx9Sn3lFBWJX2W91tMGo3VJE6T4GoCYZCRwdx7w7Dd8c"
      },
      "getUser": {
        "handler": "src/handlers.getUser",
        "events": [
          {
            "httpApi": "GET /users/{id}",
            "resolvedMethod": "GET",
            "resolvedPath": "/users/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-getUser",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetUserLambdaVersionyqRdlEabbRdUrUB4R088g7L1DTDLTZ1b9kedReVkqE"
      },
      "createUser": {
        "handler": "src/handlers.createUser",
        "events": [
          {
            "httpApi": "POST /users",
            "resolvedMethod": "POST",
            "resolvedPath": "/users"
          }
        ],
        "name": "vadali-media-backend-dev-createUser",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreateUserLambdaVersionpNkLLdQOrDJbwhSW0i1WDAKxO4j6t0kj55EKhJjyIqc"
      },
      "updateUser": {
        "handler": "src/handlers.updateUser",
        "events": [
          {
            "httpApi": "PUT /users/{id}",
            "resolvedMethod": "PUT",
            "resolvedPath": "/users/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-updateUser",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateUserLambdaVersionSfdJ1MNnDTvKJJ7ZlrDNyVB8HLDzM6Okh2oUr4YERLI"
      },
      "deleteUser": {
        "handler": "src/handlers.deleteUser",
        "events": [
          {
            "httpApi": "DELETE /users/{id}",
            "resolvedMethod": "DELETE",
            "resolvedPath": "/users/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-deleteUser",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "DeleteUserLambdaVersionn17raCEEPhuJkGw8rBnXFXRcyuVwrqJoKh6lQzBI"
      },
      "getArticles": {
        "handler": "src/handlers.getArticles",
        "events": [
          {
            "httpApi": "GET /articles",
            "resolvedMethod": "GET",
            "resolvedPath": "/articles"
          }
        ],
        "name": "vadali-media-backend-dev-getArticles",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetArticlesLambdaVersion4243csn41U8pSlyYawT2Rd7FAXDbcE00rz5RjkopQ"
      },
      "getArticleById": {
        "handler": "src/handlers.getArticleById",
        "events": [
          {
            "httpApi": "GET /articles/id/{id}",
            "resolvedMethod": "GET",
            "resolvedPath": "/articles/id/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-getArticleById",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetArticleByIdLambdaVersionn1QmCXXqHc9M6GOdIFTDogyNp9xvTlxnEpVX7ltc4I"
      },
      "getArticleBySlug": {
        "handler": "src/handlers.getArticleBySlug",
        "events": [
          {
            "httpApi": "GET /articles/slug/{slug}",
            "resolvedMethod": "GET",
            "resolvedPath": "/articles/slug/{slug}"
          }
        ],
        "name": "vadali-media-backend-dev-getArticleBySlug",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetArticleBySlugLambdaVersionMmUPrdUiHieyqpY2dmPB3OztIMlsCYkCycEsFtisw"
      },
      "getArticleSharePreview": {
        "handler": "src/handlers.getArticleSharePreview",
        "events": [
          {
            "httpApi": "GET /share/article/{slug}",
            "resolvedMethod": "GET",
            "resolvedPath": "/share/article/{slug}"
          }
        ],
        "name": "vadali-media-backend-dev-getArticleSharePreview",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetArticleSharePreviewLambdaVersionC904TUBBMY1l4QhTOKzwIrqTyobI8tA1alleuZRD7o"
      },
      "createArticle": {
        "handler": "src/handlers.createArticle",
        "events": [
          {
            "httpApi": "POST /articles",
            "resolvedMethod": "POST",
            "resolvedPath": "/articles"
          }
        ],
        "name": "vadali-media-backend-dev-createArticle",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreateArticleLambdaVersion5CeqJn3uHlnfHvBSJzDQ34yXbJypL6W5N5aY8wDIHE"
      },
      "updateArticle": {
        "handler": "src/handlers.updateArticle",
        "events": [
          {
            "httpApi": "PUT /articles/{id}",
            "resolvedMethod": "PUT",
            "resolvedPath": "/articles/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-updateArticle",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateArticleLambdaVersionTssqtrcJ65zI6j06FYHwU5KwNmld6lMfjbWgnWW9Oo"
      },
      "deleteArticle": {
        "handler": "src/handlers.deleteArticle",
        "events": [
          {
            "httpApi": "DELETE /articles/{id}",
            "resolvedMethod": "DELETE",
            "resolvedPath": "/articles/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-deleteArticle",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "DeleteArticleLambdaVersionj2aDpzdOKu6V1UqAdRkDupU6shsYkKlrKntT70b5M"
      },
      "updateArticleStatus": {
        "handler": "src/handlers.updateArticleStatus",
        "events": [
          {
            "httpApi": "PUT /articles/{id}/status",
            "resolvedMethod": "PUT",
            "resolvedPath": "/articles/{id}/status"
          }
        ],
        "name": "vadali-media-backend-dev-updateArticleStatus",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateArticleStatusLambdaVersionqE9d3wEo60IVB0VXob8A8XEoTSCDFBzOltjYX5jBQ"
      },
      "updateFeaturedStatus": {
        "handler": "src/handlers.updateFeaturedStatus",
        "events": [
          {
            "httpApi": "POST /articles/featured",
            "resolvedMethod": "POST",
            "resolvedPath": "/articles/featured"
          }
        ],
        "name": "vadali-media-backend-dev-updateFeaturedStatus",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateFeaturedStatusLambdaVersionC31vWVGBHj35qbFMPwDXpKG2Y7LUmQTz9krxS7w"
      },
      "getCategories": {
        "handler": "src/handlers.getCategories",
        "events": [
          {
            "httpApi": "GET /categories",
            "resolvedMethod": "GET",
            "resolvedPath": "/categories"
          }
        ],
        "name": "vadali-media-backend-dev-getCategories",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetCategoriesLambdaVersionnEmKCBgCrhcVOtAtmbxGyokbHwm44hbgkQDMvX7s8Qo"
      },
      "createCategory": {
        "handler": "src/handlers.createCategory",
        "events": [
          {
            "httpApi": "POST /categories",
            "resolvedMethod": "POST",
            "resolvedPath": "/categories"
          }
        ],
        "name": "vadali-media-backend-dev-createCategory",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreateCategoryLambdaVersionygWdpSKcLOHHiEVbL2zdWH9GbDr4dZPlhbSDfPkUc"
      },
      "updateCategory": {
        "handler": "src/handlers.updateCategory",
        "events": [
          {
            "httpApi": "PUT /categories/{id}",
            "resolvedMethod": "PUT",
            "resolvedPath": "/categories/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-updateCategory",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateCategoryLambdaVersionhcmbonOQFyKuFLsVNJSbdHKRqa4yZ7k11UrxGaunFtY"
      },
      "deleteCategory": {
        "handler": "src/handlers.deleteCategory",
        "events": [
          {
            "httpApi": "DELETE /categories/{id}",
            "resolvedMethod": "DELETE",
            "resolvedPath": "/categories/{id}"
          }
        ],
        "name": "vadali-media-backend-dev-deleteCategory",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "DeleteCategoryLambdaVersioni81RVnsbzpD6Dbi2GYaPVCo1GUItxatbdgLnm7Cucc"
      },
      "getPendingComments": {
        "handler": "src/handlers.getPendingComments",
        "events": [
          {
            "httpApi": "GET /comments/pending",
            "resolvedMethod": "GET",
            "resolvedPath": "/comments/pending"
          }
        ],
        "name": "vadali-media-backend-dev-getPendingComments",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetPendingCommentsLambdaVersionTFbri6NA9aZkvVvOOoPPowFE8GLrZIuB99rZJ58"
      },
      "postComment": {
        "handler": "src/handlers.postComment",
        "events": [
          {
            "httpApi": "POST /articles/{id}/comments",
            "resolvedMethod": "POST",
            "resolvedPath": "/articles/{id}/comments"
          }
        ],
        "name": "vadali-media-backend-dev-postComment",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "PostCommentLambdaVersionf3iYXLUWrJ6b6wQRA8C8IBh9uksWgDeBtcvWG21EGA"
      },
      "updateCommentStatus": {
        "handler": "src/handlers.updateCommentStatus",
        "events": [
          {
            "httpApi": "PUT /articles/{articleId}/comments/{commentId}/status",
            "resolvedMethod": "PUT",
            "resolvedPath": "/articles/{articleId}/comments/{commentId}/status"
          }
        ],
        "name": "vadali-media-backend-dev-updateCommentStatus",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateCommentStatusLambdaVersionH9dMJrwjwJ3FWV0vub5XgF4IFFxfmzPT8RWjRSuKM"
      },
      "getNotificationsForUser": {
        "handler": "src/handlers.getNotificationsForUser",
        "events": [
          {
            "httpApi": "GET /notifications/user/{userId}",
            "resolvedMethod": "GET",
            "resolvedPath": "/notifications/user/{userId}"
          }
        ],
        "name": "vadali-media-backend-dev-getNotificationsForUser",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetNotificationsForUserLambdaVersionCTaffm3guAi3ApLaiQ1kj9mAbMcfLFYaydLQtz4g"
      },
      "getAllTags": {
        "handler": "src/handlers.getAllTags",
        "events": [
          {
            "httpApi": "GET /tags",
            "resolvedMethod": "GET",
            "resolvedPath": "/tags"
          }
        ],
        "name": "vadali-media-backend-dev-getAllTags",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetAllTagsLambdaVersionyVjfCxcDkSQB1YWRF0pNGfkJWGPUclngWFTLQG5s"
      },
      "getSubscribers": {
        "handler": "src/handlers.getSubscribers",
        "events": [
          {
            "httpApi": "GET /subscribers",
            "resolvedMethod": "GET",
            "resolvedPath": "/subscribers"
          }
        ],
        "name": "vadali-media-backend-dev-getSubscribers",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetSubscribersLambdaVersionOy7oRFRKak62AIxbSJMZ90wSi5R3naP8ZK7yZzXE"
      },
      "subscribe": {
        "handler": "src/handlers.subscribe",
        "events": [
          {
            "httpApi": "POST /subscribe",
            "resolvedMethod": "POST",
            "resolvedPath": "/subscribe"
          }
        ],
        "name": "vadali-media-backend-dev-subscribe",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "SubscribeLambdaVersionNJ55KA5WdcKRB3KwyL9ng7OkGfLZbWTBRMv9FDiL3EA"
      },
      "contact": {
        "handler": "src/handlers.contact",
        "events": [
          {
            "httpApi": "POST /contact",
            "resolvedMethod": "POST",
            "resolvedPath": "/contact"
          }
        ],
        "name": "vadali-media-backend-dev-contact",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "ContactLambdaVersionXrSBh4E1tr8R0a9VkhWfFcAg9URPHWGFPP8dESDj7s"
      },
      "getUploadUrl": {
        "handler": "src/handlers.getUploadUrl",
        "events": [
          {
            "httpApi": {
              "method": "POST",
              "path": "/upload-url"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/upload-url"
          }
        ],
        "name": "vadali-media-backend-dev-getUploadUrl",
        "package": {},
        "memory": 1024,
        "timeout": 6,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetUploadUrlLambdaVersionvJKEA5IMgsFYs1Zpkis4uhbZIMeSInYwqaAKikUeQ"
      }
    },
    "resources": {
      "Resources": {
        "ArticlesTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "vadali-media-articles-dev",
            "AttributeDefinitions": [
              {
                "AttributeName": "id",
                "AttributeType": "S"
              },
              {
                "AttributeName": "slug",
                "AttributeType": "S"
              },
              {
                "AttributeName": "categoryId",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "id",
                "KeyType": "HASH"
              }
            ],
            "GlobalSecondaryIndexes": [
              {
                "IndexName": "slug-index",
                "KeySchema": [
                  {
                    "AttributeName": "slug",
                    "KeyType": "HASH"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              },
              {
                "IndexName": "category-index",
                "KeySchema": [
                  {
                    "AttributeName": "categoryId",
                    "KeyType": "HASH"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        },
        "UsersTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "vadali-media-users-dev",
            "AttributeDefinitions": [
              {
                "AttributeName": "id",
                "AttributeType": "S"
              },
              {
                "AttributeName": "email",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "id",
                "KeyType": "HASH"
              }
            ],
            "GlobalSecondaryIndexes": [
              {
                "IndexName": "email-index",
                "KeySchema": [
                  {
                    "AttributeName": "email",
                    "KeyType": "HASH"
                  }
                ],
                "Projection": {
                  "ProjectionType": "ALL"
                }
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        },
        "CategoriesTable": {
          "Type": "AWS::DynamoDB::Table",
          "Properties": {
            "TableName": "vadali-media-categories-dev",
            "AttributeDefinitions": [
              {
                "AttributeName": "id",
                "AttributeType": "S"
              }
            ],
            "KeySchema": [
              {
                "AttributeName": "id",
                "KeyType": "HASH"
              }
            ],
            "BillingMode": "PAY_PER_REQUEST"
          }
        }
      },
      "Outputs": {}
    },
    "configValidationMode": "warn",
    "serviceFilename": "serverless.yml",
    "initialServerlessConfig": {
      "service": "vadali-media-backend",
      "provider": {
        "$ref": "$[\"service\"][\"provider\"]"
      },
      "functions": {
        "$ref": "$[\"service\"][\"functions\"]"
      },
      "package": {
        "individually": false,
        "artifactsS3KeyDirname": "serverless/vadali-media-backend/dev/code-artifacts"
      },
      "plugins": {
        "$ref": "$[\"service\"][\"plugins\"]"
      },
      "custom": {
        "$ref": "$[\"service\"][\"custom\"]"
      },
      "resources": {
        "$ref": "$[\"service\"][\"resources\"]"
      }
    },
    "layers": {},
    "isDashboardMonitoringPreconfigured": false
  },
  "package": {
    "individually": false,
    "artifactDirectoryName": "serverless/vadali-media-backend/dev/1764116758699-2025-11-26T00:25:58.699Z",
    "artifact": "vadali-media-backend.zip"
  }
}